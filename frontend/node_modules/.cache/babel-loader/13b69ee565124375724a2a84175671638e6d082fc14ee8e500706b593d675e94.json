{"ast":null,"code":"var _jsxFileName = \"/Users/lolitakuliuk/Documents/TraineeReactTask/frontend/src/components/Register/Login.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styles from './Register.module.css';\nimport { useForm, FormProvider, useFormContext } from 'react-hook-form';\nimport axios from \"axios\";\nimport { loginRoute } from '../../utils/APIRoutes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Input = ({\n  name,\n  placeholder,\n  type,\n  validate\n}) => {\n  _s();\n  const {\n    register,\n    formState: {\n      errors\n    }\n  } = useFormContext();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.formGroup,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: type,\n      name: name,\n      placeholder: placeholder,\n      ...register(name, validate),\n      className: `${styles.input} ${errors[name] ? styles.errorInput : ''}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: errors[name] && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.errorText,\n        children: errors[name].message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this);\n};\n_s(Input, \"ibznX0js7rr7YAr5K/bf8d/3tmI=\", false, function () {\n  return [useFormContext];\n});\n_c = Input;\nfunction Login() {\n  _s2();\n  const [values, setValues] = useState({\n    username: '',\n    password: ''\n  });\n  const navigate = useNavigate();\n  const methods = useForm();\n  const handleSubmit = async (formData, event) => {\n    try {\n      const {\n        data\n      } = await axios.post(loginRoute, formData);\n      if (data.status === true) {\n        localStorage.setItem(\"chat-app-user\", JSON.stringify(data.user));\n      }\n      navigate(\"/\");\n    } catch (error) {\n      console.error(\"There was an error registering the user!\", error);\n    }\n  };\n\n  // const handleChange = (event) => {\n  //     setValues({ ...values, [event.target.name]: event.target.value })\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: /*#__PURE__*/_jsxDEV(FormProvider, {\n      ...methods,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: styles.formContainer,\n        onSubmit: methods.handleSubmit(handleSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Registration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: 'username',\n          placeholder: \"Username\",\n          validate: {\n            required: 'Username is required',\n            minLength: {\n              value: 3,\n              message: 'Username must be at least 3 characters'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          name: 'password',\n          placeholder: \"Password\",\n          validate: {\n            required: 'Password is required',\n            minLength: {\n              value: 6,\n              message: 'Password must be at least 6 characters'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \" Create User \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" already have an account ? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \" Login \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 44\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s2(Login, \"FE409wbBQmcbt1jjFIMq4PY7BhM=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c2 = Login;\nexport default Login;\nvar _c, _c2;\n$RefreshReg$(_c, \"Input\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","styles","useForm","FormProvider","useFormContext","axios","loginRoute","jsxDEV","_jsxDEV","Input","name","placeholder","type","validate","_s","register","formState","errors","className","formGroup","children","input","errorInput","fileName","_jsxFileName","lineNumber","columnNumber","errorText","message","_c","Login","_s2","values","setValues","username","password","navigate","methods","handleSubmit","formData","event","data","post","status","localStorage","setItem","JSON","stringify","user","error","console","container","formContainer","onSubmit","required","minLength","value","to","_c2","$RefreshReg$"],"sources":["/Users/lolitakuliuk/Documents/TraineeReactTask/frontend/src/components/Register/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styles from './Register.module.css';\nimport { useForm, FormProvider, useFormContext } from 'react-hook-form';\nimport axios from \"axios\";\nimport { loginRoute } from '../../utils/APIRoutes';\n\nconst Input = ({ name, placeholder, type, validate }) => {\n  const { register, formState: { errors } } = useFormContext();\n  return (\n    <div className={styles.formGroup}>\n      <input\n        type={type}\n        name={name}\n        placeholder={placeholder}\n        {...register(name, validate)}\n        className={`${styles.input} ${errors[name] ? styles.errorInput : ''}`}\n      />\n      <div>\n        {errors[name] && <span className={styles.errorText}>{errors[name].message}</span>}\n      </div>\n    </div>\n  );\n};\n\nfunction Login() {\n  const [values, setValues] = useState({\n    username: '',\n    password: ''\n  });\n  const navigate = useNavigate();\n  const methods = useForm();\n\n  const handleSubmit = async (formData, event) => {\n    try {\n      const { data } = await axios.post(loginRoute, formData);\n      if (data.status === true) {\n        localStorage.setItem(\"chat-app-user\", JSON.stringify(data.user));\n      }\n      navigate(\"/\");\n    } catch (error) {\n      console.error(\"There was an error registering the user!\", error);\n    }\n  }\n\n\n\n  // const handleChange = (event) => {\n  //     setValues({ ...values, [event.target.name]: event.target.value })\n  // }\n\n  return (\n    <div className={styles.container}>\n      <FormProvider {...methods}>\n        <form className={styles.formContainer} onSubmit={methods.handleSubmit(handleSubmit)} >\n          <h3>Registration</h3>\n          <Input type=\"text\"\n            name={'username'}\n            placeholder='Username'\n            validate={{\n              required: 'Username is required',\n              minLength: { value: 3, message: 'Username must be at least 3 characters' }\n            }}\n          />\n          <Input type=\"password\"\n            name={'password'}\n            placeholder='Password'\n            validate={{\n              required: 'Password is required',\n              minLength: { value: 6, message: 'Password must be at least 6 characters' }\n            }} />\n          \n          <button type='submit'> Create User </button>\n          <span> already have an account ? <Link to='/login'> Login </Link> </span>\n        </form>\n      </FormProvider>\n    </div>\n  )\n}\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}